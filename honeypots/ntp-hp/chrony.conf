# Bind to all interfaces
bindaddress 0.0.0.0

# Allow all clients to query â€” unsafe
allow all

# This is the key directive for a high-interaction honeypot.
# It allows chronyd to act as a time server for any attacker,
# even if it is not synchronized to an external time source.
# It will use the container's system clock, which is synced from the Docker host.
# We set a plausible stratum (e.g. 10) to not appear as a primary source.
local stratum 10 orphan

# Enable logging of attacker interactions.
# 'measurements' will log each incoming NTP query with the source IP.
log tracking measurements statistics
lograwdata
logdir /var/log/chrony

# Keep the system's Real Time Clock (RTC) in sync with the system clock.
# This makes the time it serves more consistent.
rtcsync

# Allow remote configuration/monitoring via chronyc.
cmdport 323
